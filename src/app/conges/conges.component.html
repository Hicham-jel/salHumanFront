
<div class="container mt-2">
  <div class="card">
    <div class="card-header">Conges</div>
    <div class="card-body" >
      <table class="table">
        <thead>
        <tr>
          <th>Id Conge</th><th>date debut</th><th>date fin</th><th>id employe</th><th>type de conge</th><th>statut</th>
        </tr>
        </thead>
        <tbody *ngFor="let e of conges|async">
        <tr>
          <td>{{e.idConge}}</td>
          <td>{{e.dateDebut}}</td>
          <td>{{e.dateFin}}</td>
          <td>{{getEmployeName(e.idEmploye)|async}}</td>
          <td>{{e.typeDeConge}}</td>
          <td>{{e.statut}}</td>
          <td *ngIf="authService.roles.includes('ADMIN')">
            <button class="btn btn-light btn-action me-4" routerLink="/admin/edit-conge/{{e.idConge}}"><i class="bi bi-pencil-fill"></i></button>
            <button (click)="handleDeleteConge(e)" class="btn btn-danger btn-action me-4"><i class="bi bi-trash-fill"></i></button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <ng-template #failureOrLoading>
    <ng-container *ngIf="errorMessage;else loading">
      <div class="text-bg-danger">{{errorMessage}}</div>
    </ng-container>
    <ng-template #loading>
      Loading .....
    </ng-template>
  </ng-template>
</div>
